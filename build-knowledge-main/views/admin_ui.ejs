<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title><%= pageTitle %></title>
  <style>
    body{font-family:system-ui,Segoe UI;margin:18px;background:#0b1220;color:#e7eefc;}
    .box{max-width:920px;margin:0 auto;border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:16px;background:rgba(255,255,255,.03);}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;}
    @media(max-width:860px){.grid{grid-template-columns:1fr;}}
    label{display:block;margin:10px 0 6px;color:rgba(231,238,252,.75)}
    input,textarea{width:100%;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.2);color:#e7eefc;}
    textarea{min-height:90px}
    .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;}
    .btn{padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:#e7eefc;cursor:pointer}
    .btn.primary{background:rgba(74,163,255,.18);border-color:rgba(74,163,255,.35)}
    .small{font-size:12px;color:rgba(231,238,252,.65)}
    .preview{border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:12px;background:rgba(0,0,0,.18)}
    img{max-width:100%;border-radius:12px;border:1px solid rgba(255,255,255,.12)}
    a{color:#a9c8ff}
  </style>
</head>
<body>
  <div class="box">
    <div class="row" style="justify-content:space-between;align-items:center">
      <h2 style="margin:0"><%= pageTitle %></h2>
      <div class="row" style="margin:0">
        <a class="btn" href="/admin/posts?type=article">บทความ</a>
        <a class="btn" href="/admin/messages">ข้อความติดต่อ</a>
        <a class="btn" href="/">ดูหน้าเว็บ</a>
      </div>
    </div>

    <p class="small">แก้ “ข้อความ + สี + รูป” ของหน้าเว็บหลักได้จากหน้านี้</p>

    <!-- ===== Save text + colors + URLs ===== -->
    <form method="post" action="/admin/ui/save">
      <div class="grid">
        <div>
          <h3>ข้อความหน้าเว็บ</h3>

          <label>ชื่อเว็บ (site_name)</label>
          <input name="site_name" value="<%= site.site_name || '' %>"/>

          <label>คำอธิบายเว็บ (meta_description)</label>
          <input name="meta_description" value="<%= site.meta_description || '' %>"/>

          <label>Hero Title</label>
          <textarea name="hero_title"><%= site.hero_title || '' %></textarea>

          <label>Hero Subtitle</label>
          <textarea name="hero_subtitle"><%= site.hero_subtitle || '' %></textarea>
        </div>

        <div>
          <h3>สีธีม (Theme)</h3>

          <label>พื้นหลัง (theme_bg)</label>
          <input name="theme_bg" value="<%= site.theme_bg || '#0b1220' %>" placeholder="#0b1220"/>

          <label>การ์ด (theme_card)</label>
          <input name="theme_card" value="<%= site.theme_card || '#101a2e' %>" placeholder="#101a2e"/>

          <label>ตัวอักษรหลัก (theme_text)</label>
          <input name="theme_text" value="<%= site.theme_text || '#e7eefc' %>" placeholder="#e7eefc"/>

          <label>ตัวอักษรรอง (theme_muted)</label>
          <input name="theme_muted" value="<%= site.theme_muted || '#97a3b6' %>" placeholder="#97a3b6"/>

          <label>เส้น/ขอบ (theme_line)</label>
          <input name="theme_line" value="<%= site.theme_line || 'rgba(255,255,255,.08)' %>" placeholder="rgba(255,255,255,.08)"/>

          <label>สีหลัก (theme_accent)</label>
          <input name="theme_accent" value="<%= site.theme_accent || '#4aa3ff' %>" placeholder="#4aa3ff"/>

          <label>สีรอง (theme_accent2)</label>
          <input name="theme_accent2" value="<%= site.theme_accent2 || '#7c5cff' %>" placeholder="#7c5cff"/>
        </div>
      </div>

      <div class="row">
        <button class="btn primary" type="submit">บันทึกการตั้งค่า</button>
      </div>
    </form>

    <hr style="border:none;border-top:1px solid rgba(255,255,255,.12);margin:18px 0">

    <!-- ===== Images ===== -->
    <div class="grid">
      <div class="preview">
        <h3>โลโก้ (Logo)</h3>
        <div class="small">อัปโหลด แล้วระบบจะใส่ให้หน้าเว็บอัตโนมัติ</div>

        <% if (site.logo_url) { %>
          <div style="margin-top:10px"><img src="<%= site.logo_url %>" alt="logo"></div>
          <div class="small" style="margin-top:6px">ตอนนี้ใช้: <%= site.logo_url %></div>
        <% } else { %>
          <div class="small" style="margin-top:10px">ยังไม่มีโลโก้</div>
        <% } %>

        <form method="post" action="/admin/ui/upload" enctype="multipart/form-data" style="margin-top:10px">
          <input type="hidden" name="target" value="logo_url">
          <input type="file" name="image" accept="image/*" required>
          <div class="row">
            <button class="btn primary" type="submit">อัปโหลดโลโก้</button>
          </div>
        </form>

        <form method="post" action="/admin/ui/save" style="margin-top:10px">
          <label>หรือใส่ URL โลโก้เอง (logo_url)</label>
          <input name="logo_url" value="<%= site.logo_url || '' %>">
          <div class="row"><button class="btn" type="submit">บันทึก URL โลโก้</button></div>
        </form>
      </div>

      <div class="preview">
        <h3>รูป Hero (ภาพหน้าแรก)</h3>
        <div class="small">รองรับรูปแนวนอน 1600×900 จะดูสวยสุด</div>

        <% if (site.hero_image_url) { %>
          <div style="margin-top:10px"><img src="<%= site.hero_image_url %>" alt="hero"></div>
          <div class="small" style="margin-top:6px">ตอนนี้ใช้: <%= site.hero_image_url %></div>
        <% } else { %>
          <div class="small" style="margin-top:10px">ยังไม่มีรูป Hero</div>
        <% } %>

        <form method="post" action="/admin/ui/upload" enctype="multipart/form-data" style="margin-top:10px">
          <input type="hidden" name="target" value="hero_image_url">
          <input type="file" name="image" accept="image/*" required>
          <div class="row">
            <button class="btn primary" type="submit">อัปโหลดรูป Hero</button>
          </div>
        </form>

        <form method="post" action="/admin/ui/save" style="margin-top:10px">
          <label>หรือใส่ URL รูป Hero เอง (hero_image_url)</label>
          <input name="hero_image_url" value="<%= site.hero_image_url || '' %>">
          <div class="row"><button class="btn" type="submit">บันทึก URL รูป Hero</button></div>
        </form>
      </div>
    </div>

  </div>
</body>
</html>
